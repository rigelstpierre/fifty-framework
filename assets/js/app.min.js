!(function(f){window.FIFTYFRAMEWORK={};var d=window.FIFTYFRAMEWORK;var e=navigator.userAgent;var c=new RegExp(/AppleWebKit\/([\d.]+)/);var b=c.exec(e);var g=(b===null?null:parseFloat(c.exec(e)[1]));var a={debug:false,debug_skrollr:false,user_agent:{iOS:(e.match(/(iPad|iPhone|iPod)/g)?true:false),iphone:(e.match(/(iPhone|iPod)/g)?true:false),ipad:(e.match(/(iPad)/g)?true:false),android:(e.match(/(Android)/g)?true:false),mobile:((/Mobile|iPhone|iPod|BlackBerry|Windows Phone/i).test(e||navigator.vendor||window.opera)?true:false),mobile_all:((/Mobile|Android|iPhone|iPod|BlackBerry|Windows Phone/i).test(e||navigator.vendor||window.opera)?true:false),},browser:{desktop_chrome:(window.chrome?true:false),iphone_chrome:((e.match(/(iPod|iPhone|iPad)/)&&e.match(/AppleWebKit/)&&e.match("CriOS"))?true:false),iphone_safari:((e.match(/(iPod|iPhone|iPad)/)&&e.match(/AppleWebKit/)&&!e.match("CriOS"))?true:false),android_native:(e.indexOf("Android")>-1&&e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1&&e.indexOf("Chrome")<=-1),android_chrome:(e.indexOf("Android")>-1&&e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1&&e.indexOf("Chrome")>-1),android_samsung:(e.indexOf("Android")>-1&&e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1&&e.indexOf("Chrome")>-1&&e.indexOf("SCH")>-1)}};d.init=function(){d.setElements();d.setVars();d.basics();d.scroll();d.fauxPlaceholders();d.regex();d.lazyLoadVideo();d.modals();d.collapsableSidebar();d.fitVids();d.backStretch();d.debugBox();d.hamburgerNav();d.codeMirror();d.sticky()};d.setElements=function(){d.el={};d.el.page_overlay=f(".page-overlay");d.el.page_wrap=f(".page-wrap");d.el.mobile_menu_btn=f("#mobile-menu-toggle");d.el.debug_box=f("#debug_box");d.el.modal=f(".modal");d.el.modal_close=f(".modal button.modal-close")};d.setVars=function(){};d.basics=function(){};d.scroll=function(){f("a.scroll, li.scroll > a").click(function(l){l.preventDefault();var k=f(this),h=k.attr("href"),j=f(h),i=650;m(j,i,"easeInOutExpo",0);function m(o,n,q,p){if(o){if(/(iPhone|iPod)\sOS\s6/.test(navigator.userAgent)){f("html, body").animate({scrollTop:o.offset().top},n,q)}else{f("html, body").animate({scrollTop:o.offset().top-(p)},n,q)}}}})};d.fauxPlaceholders=function(){var i=f('#respond input[type="text"]'),k=f("#respond textarea");function h(l){if(!l.length){return}l.each(function(){var n=f(this);var m=n.siblings("label");n.attr("placeholder",m.text());m.hide()})}function j(l){if(!l.length){return}l.each(function(){var n=f(this);var m=n.siblings("label");n.attr("value",m.text());m.hide()})}h(i);h(k)};d.modals=function(){d.el.modal.appendTo("#modals");f("body").append('<div class="modal-overlay"></div>');var h=f(".modal-overlay");h.width(f("body").width()).height(f("body").height());f('.modal-trigger, [role="modal-trigger"]').click(function(l){l.preventDefault();var k=f(this).data("id"),j=f(k);j.css("margin-top","-"+(j.height()/2)+"px");function i(){h.addClass("show");setTimeout(function(){j.addClass("show")},250)}i();function m(){j.removeClass("show");setTimeout(function(){h.removeClass("show")},150)}f(document).keyup(function(n){if(n.keyCode==27){m()}});d.el.modal_close.click(function(){m()});h.click(function(){m()})})};d.flexLoader=function(i,h){if(!i){return}i.flexslider(h)};d.skrollr=function(i){var h=skrollr.init({edgeStrategy:"set",easing:{WTF:Math.random,inverted:function(j){return 1-j}}})};d.regex=function(){function h(j){var i=/(?:(?=[\s`!()\[\]{};:'".,<>?«»“”‘’])|\b)((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/|[a-z0-9.\-]+[.](?:com|org|net))(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))*(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]|\b))/gi;j.html(j.html().replace(i,'<a href="$1" target="_blank" title="">$1</a>'))}};d.collapsableSidebar=function(){var h=f("#sidebar_default");f("#sidebar-toggle").toggle(function(){f("#sidebar-default").stop().animate({width:"5%"},function(){f("#content").animate({width:"92%"})});f(".sidebar-inner").stop().animate({left:"-700px",opacity:"0"},500)},function(){f("#sidebar-default").animate({width:"25%"},function(){});f(".sidebar-inner").stop().animate({left:"0px",opacity:"1"});f("#content").animate({width:"75%"},350)})};d.fitVids=function(){f(".slide-content, section").fitVids()};d.lazyLoadVideo=function(){f(".lazyload").click(function(){var n=f(this),j=n.data("video-id"),i=n.data("video-service"),k=n.width(),h=n.height();function l(o,q){if(o==="youtube"){var p='<iframe width="'+k+'" height="'+h+'" src="//www.youtube.com/embed/'+j+'?autoplay=1" frameborder="0" allowfullscreen></iframe>';return p}if(o==="vimeo"){var p='<iframe src="//player.vimeo.com/video/'+j+'?title=0&amp;autoplay=1&amp;byline=0&amp;portrait=0&amp;badge=0" width="'+k+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';return p}}var m=l(i,j);n.find("iframe").remove();n.find("img").remove();n.find(".media-image-overlay").css("opacity",0);n.find(".media-image-icon").hide();n.css("background-image","");n.find(".post-format-video-overlay").remove();if(n.find("iframe").length<=0){n.append(m)}else{}})};d.lazyLoadImage=function(h){if(h==="delayed"){setTimeout(function(){f(".lazyload-img:in-viewport").addClass("show")},100)}else{f(".lazyload-img:in-viewport").addClass("show")}};d.backStretch=function(){f(".backstretch").each(function(j){var h=f(this).data("img-src");f(this).backstretch(h)})};d.hamburgerNav=function(){d.el.mobile_menu_btn.toggle(function(h){f(this).addClass("open");var i=f(this).siblings("nav");i.slideToggle(150)},function(h){f(this).removeClass("open");var i=f(this).siblings("nav");i.slideToggle(150)})};d.codeMirror=function(){f(".prettify").each(function(){var l=f(this),h=l.html(),i=f("<div/>").html(h).text();var m=l.data("mode"),k=l.data("theme");if(!m){m="xml"}if(!k){k="monokai"}l.empty();var j={name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]};CodeMirror(this,{value:h,height:"150px",mode:m,theme:k,extraKeys:{"Ctrl-Space":"autocomplete"},lineNumbers:!l.is(".inline"),readOnly:true,})})};d.sticky=function(){f(".sticky").each(function(){var h=f(this),i=h.data("offset");h.sticky({topSpacing:i})})};d.debugBox=function(k){var j=d.el.debug_box.find("button#debug_box-close"),i=d.el.debug_box.find(".debug_box-inner"),h=d.el.debug_box.find("nav a");j.toggle(function(){localStorage.setItem("FFW_debug_box_closed",true);d.el.debug_box.removeClass("closed")},function(){localStorage.setItem("FFW_debug_box_closed",false);d.el.debug_box.addClass("closed")});h.toggle(function(){var l=f(this).attr("name");f("#"+l).removeClass("hide");f(this).addClass("active")},function(){var l=f(this).attr("name");f("#"+l).addClass("hide");f(this).removeClass("active")})};d.matchMedia=function(i){var h=window.matchMedia("(orientation: portrait)");if(h.matches){}else{}h.addListener(function(j){if(j.matches){}else{}})};f(document).ready(function(){d.init();d.matchMedia();if(a.browser.desktop_chrome){var i=function(j){setTimeout(function(){f("body").width(f("body").width()+1).width("auto")},j)};var h=function(){var j=f("body").offset();f("body").offset(j)};h()}});f(window).load(function(){d.lazyLoadImage()});f(window).scroll(function(){if(a.debug){var h=f(window).scrollTop();console.log(h)}d.lazyLoadImage()});f(window).resize(function(){}).trigger("resize");window.addEventListener("orientationchange",function(){console.log("Orientation is: ",window.orientation)},false);window.addEventListener("resize",function(){},false);(function(){d.setVars();if(window.location.hash){var h=window.location.hash.substring(1);if(h==="CUSTOM_HASH_HERE"){}}else{}})()})(jQuery);function viewport_mobile(){if($(window).width()<=480){return true}else{if($(window).width()>480){return false}}}(function(a){a.belowthefold=function(c,d){var b=a(window).height()+a(window).scrollTop();return b<=a(c).offset().top-d.threshold};a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold};a.rightofscreen=function(c,d){var b=a(window).width()+a(window).scrollLeft();return b<=a(c).offset().left-d.threshold};a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold};a.inviewport=function(b,c){return !a.rightofscreen(b,c)&&!a.leftofscreen(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(c,d,b){return a.belowthefold(c,{threshold:0})},"above-the-top":function(c,d,b){return a.abovethetop(c,{threshold:0})},"left-of-screen":function(c,d,b){return a.leftofscreen(c,{threshold:0})},"right-of-screen":function(c,d,b){return a.rightofscreen(c,{threshold:0})},"in-viewport":function(c,d,b){return a.inviewport(c,{threshold:0})}})})(jQuery);